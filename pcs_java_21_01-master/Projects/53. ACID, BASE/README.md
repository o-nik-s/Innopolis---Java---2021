# СУБД

## Транзакционные

### ACID

* Транзакция - последовательность действий (множество SQL-запросов).

* `Atomicity` — атомарность, нельзя списать деньги со счета, не зачислив их на другой, необходимо сделать откат (rollback), если что-то пошло не так.

* `Consistency` — согласованность, согласованность данных в СУБД обеспечивает разработчик.

* `Isolation` — изолированность, `параллельные транзакции`.

	* `Потерянная запись`

	```
		    A = 500
		K1 --> -300
               +300 <-- K2
        K1 -->  200
                800 --> K2        
	```

	* `Грязное чтение` (Dirty Read)

	```
	       A = 500
	  K1 -->  -300
	           200 <-- K2
	  K1 --> rollback
	       A = 500  
	```

	*  `Unrepeatable Read`

	```
			A = ~
		K1 --> ФОРМИРОВАНИЕ ОТЧЕТА
		       ИЗМЕНИЕ ДАННЫХ      <-- K2
		K1 --> ФОРМИРОВАНИЕ ОТЧЕТА				
	```

	* `Фантомы` - фантомное чтение

	```
			A = ~
		K1 --> ФОРМИРОВАНИЕ ОТЧЕТА
		       УДАЛЕНИЕ, ДОБАВЛЕНИЕ ДАННЫХ <-- K2
		K1 --> ФОРМИРОВАНИЕ ОТЧЕТА				
	```

* Блокировки в СУБД - (чтение, запись).

* [Уровни изоляций транзакций](https://www.postgresql.org/docs/9.5/transaction-iso.html)


* `Durability` — Надёжность

## NoSQL

* Проблемы скорости и объема

### BASE

* `Basically Available` - доступно.

* `Soft State` - гибкое состояние (нет гарантии очередности записей, нет постоянного согласования).

* `Eventual Consistency` - отложенная согласованность.

### Виды NoSQL

* `Ключ-значение` - Redis

* `Документо-ориентированные` - MongoDB

* `Семейство столбцов` 

* `Графовые`